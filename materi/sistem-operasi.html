<!-- Chosen Palette: Warm Neutrals (Stone) with Indigo accent -->
<!-- Application Structure Plan: Sebuah modul interaktif satu halaman yang dapat digulir secara vertikal. Navigasi atas yang lekat memungkinkan pengguna melompat ke bagian-bagian (Beranda, Anatomi, Fungsi, dll.). Struktur non-linear ini lebih baik daripada teks biasa, memungkinkan pengguna menjelajahi konsep sesuai kecepatan mereka. Interaksi utama mencakup "Diagram Bawang" CSS yang dapat diklik untuk anatomi, antarmuka tab untuk fungsi OS, simulator mini untuk multitasking "Round Robin", dan panduan langkah demi langkah untuk studi kasus "Save". Desain ini menerjemahkan modul statis menjadi alat belajar yang menarik dan dapat dijelajahi. -->
<!-- Visualization & Content Choices: Info Laporan: Arsitektur Lapisan Bawang -> Tujuan: Mengatur/Menjelajah -> Viz: Lingkaran CSS konsentris yang dapat diklik -> Interaksi: Klik lapisan, lihat deskripsi -> Justifikasi: Diagram interaktif lebih menarik daripada teks statis. | Info Laporan: Multitasking/Round Robin -> Tujuan: Perubahan/Proses -> Viz: Kotak sorot beranimasi JS -> Interaksi: Tombol 'Mulai' memicu animasi yang menyimulasikan pergantian konteks CPU -> Justifikasi: Mendemonstrasikan proses abstrak yang kompleks secara visual. | Info Laporan: Studi Kasus "Save" -> Tujuan: Proses -> Viz: Stepper/timeline vertikal -> Interaksi: Tombol "Lanjut" memajukan pengguna melalui 7 langkah -> Justifikasi: Memecah alur yang kompleks menjadi langkah-langkah berurutan yang mudah dicerna. -->
<!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interaktif: Membedah Otak Komputer</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap');
        html {
            scroll-behavior: smooth;
        }
        body {
            font-family: 'Inter', sans-serif;
        }
        .onion-layer {
            transition: all 0.3s ease-in-out;
        }
        .onion-layer:hover, .onion-layer.active {
            transform: scale(1.05);
            border-width: 4px;
        }
        .tab-btn.active {
            border-bottom-width: 2px;
            border-color: #4f46e5; /* indigo-600 */
            color: #4f46e5;
        }
        .step.active .step-circle {
            background-color: #4f46e5; /* indigo-600 */
            color: white;
        }
        .step.active .step-content {
            opacity: 1;
            transform: translateY(0);
        }
        .step .step-content {
            opacity: 0.5;
            transition: all 0.3s ease;
        }
        .proc-box.active {
            animation: pulse 1s infinite;
        }
        @keyframes pulse {
            0%, 100% { opacity: 1; transform: scale(1.05); }
            50% { opacity: 0.7; transform: scale(1); }
        }
    </style>
</head>
<body class="bg-stone-100 text-stone-800 leading-relaxed">

    <!-- Navigasi Atas -->
    <nav class="sticky top-0 z-50 bg-white shadow-md w-full">
        <div class="container mx-auto px-6 py-3 flex justify-between items-center">
            <h1 class="text-xl font-bold text-indigo-600">Membedah Otak Komputer</h1>
            <div class="hidden md:flex space-x-6">
                <a href="#beranda" class="text-stone-600 hover:text-indigo-600">Beranda</a>
                <a href="#anatomi" class="text-stone-600 hover:text-indigo-600">Anatomi</a>
                <a href="#fungsi" class="text-stone-600 hover:text-indigo-600">Fungsi Utama</a>
                <a href="#multitasking" class="text-stone-600 hover:text-indigo-600">Multitasking</a>
                <a href="#studi-kasus" class="text-stone-600 hover:text-indigo-600">Studi Kasus</a>
                <a href="#glosarium" class="text-stone-600 hover:text-indigo-600">Glosarium</a>
            </div>
            <button id="mobile-menu-btn" class="md:hidden text-stone-600">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7" />
                </svg>
            </button>
        </div>
        <!-- Menu Mobile -->
        <div id="mobile-menu" class="hidden md:hidden bg-white shadow-lg">
            <a href="#beranda" class="block px-6 py-3 text-stone-600 hover:bg-stone-100">Beranda</a>
            <a href="#anatomi" class="block px-6 py-3 text-stone-600 hover:bg-stone-100">Anatomi</a>
            <a href="#fungsi" class="block px-6 py-3 text-stone-600 hover:bg-stone-100">Fungsi Utama</a>
            <a href="#multitasking" class="block px-6 py-3 text-stone-600 hover:bg-stone-100">Multitasking</a>
            <a href="#studi-kasus" class="block px-6 py-3 text-stone-600 hover:bg-stone-100">Studi Kasus</a>
            <a href="#glosarium" class="block px-6 py-3 text-stone-600 hover:bg-stone-100">Glosarium</a>
        </div>
    </nav>

    <!-- Konten Utama -->
    <main class="container mx-auto p-4 md:p-8">

        <!-- Bagian 1: Beranda / Pengantar -->
        <section id="beranda" class="pt-16 -mt-16">
            <div class="bg-white p-8 rounded-lg shadow-lg">
                <h2 class="text-3xl font-bold text-indigo-600 mb-4">Siapa Bos di Dalam Komputer?</h2>
                <p class="text-lg text-stone-700 mb-4">
                    Pernahkah kamu bertanya-tanya, siapa yang menyalakan layar saat kamu menyalakan HP? Siapa yang membuat suara keluar dari speaker saat kamu memutar Spotify?
                </p>
                <p class="mb-4">
                    Banyak orang mengira "Prosesor" (CPU) adalah jawabannya. CPU memang otak yang pintar, tapi dia hanyalah <strong class="font-semibold text-indigo-700">pekerja</strong>. Dia butuh seorang <strong class="font-semibold text-indigo-700">manajer</strong> untuk memberitahu apa yang harus dikerjakan.
                </p>
                <p class="p-4 bg-indigo-50 border border-indigo-200 rounded-lg text-indigo-800">
                    Manajer itu bernama **Sistem Operasi (Operating System/OS)**. Tanpa OS, HP canggihmu hanyalah tumpukan logam, kaca, dan plastik yang mahal. Layarnya akan gelap gulita.
                </p>
            </div>
        </section>

        <!-- Bagian 2: Arsitektur Lapisan Bawang -->
        <section id="anatomi" class="pt-20 -mt-16">
            <div class="bg-white p-8 rounded-lg shadow-lg">
                <h2 class="text-3xl font-bold text-indigo-600 mb-4">Arsitektur Lapisan Bawang</h2>
                <p class="text-stone-600 mb-8">Untuk memahami cara kerja komputer, bayangkan komputer itu seperti bawang yang berlapis-lapis. Klik pada setiap lapisan untuk melihat penjelasannya.</p>
                
                <div class="md:grid md:grid-cols-2 md:gap-8 items-center">
                    <!-- Diagram Bawang Interaktif -->
                    <div class="relative flex items-center justify-center h-96 w-full mb-8 md:mb-0">
                        <!-- Lapisan 4: Aplikasi -->
                        <div data-layer="applications" class="onion-layer cursor-pointer w-full h-96 max-w-96 max-h-96 rounded-full border-4 border-indigo-200 bg-indigo-50 flex items-center justify-center text-center p-4">
                            <!-- Lapisan 3: Shell -->
                            <div data-layer="shell" class="onion-layer cursor-pointer w-3/4 h-3/4 rounded-full border-4 border-indigo-300 bg-indigo-100 flex items-center justify-center">
                                <!-- Lapisan 2: Kernel -->
                                <div data-layer="kernel" class="onion-layer cursor-pointer w-1/2 h-1/2 rounded-full border-4 border-indigo-400 bg-indigo-200 flex items-center justify-center">
                                    <!-- Lapisan 1: Hardware -->
                                    <div data-layer="hardware" class="onion-layer cursor-pointer w-1/2 h-1/2 rounded-full border-4 border-indigo-500 bg-indigo-300 flex items-center justify-center">
                                        <span class="font-bold text-indigo-800">Hardware</span>
                                    </div>
                                    <span class="absolute font-bold text-indigo-800" style="transform: translate(0, -40px);">Kernel</span>
                                </div>
                                <span class="absolute font-bold text-indigo-800" style="transform: translate(0, -80px);">Shell / Interface</span>
                            </div>
                            <span class="absolute font-bold text-indigo-800" style="transform: translate(0, -120px);">Applications</span>
                        </div>
                    </div>

                    <!-- Panel Konten -->
                    <div id="onion-content" class_="h-96 overflow-y-auto p-4 bg-stone-50 rounded-lg border">
                        <h3 id="onion-title" class="text-2xl font-semibold text-indigo-700 mb-3">Pilih lapisan</h3>
                        <p id="onion-text" class="text-stone-700">Klik pada salah satu lapisan diagram di sebelah kiri untuk mempelajari lebih lanjut tentang perannya.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Bagian 3: Fungsi Utama -->
        <section id="fungsi" class="pt-20 -mt-16">
            <div class="bg-white p-8 rounded-lg shadow-lg">
                <h2 class="text-3xl font-bold text-indigo-600 mb-4">Fungsi Utama Sang Manajer</h2>
                <p class="text-stone-600 mb-8">Sistem Operasi memiliki tugas yang sangat berat, mirip seperti manajer restoran yang sibuk. Ini adalah 3 tugas utamanya:</p>
                
                <!-- Navigasi Tab -->
                <div class="border-b border-stone-300 mb-6">
                    <nav class="flex space-x-4" id="tabs-nav">
                        <button data-tab="proses" class="tab-btn active py-2 px-4 font-semibold text-stone-600 hover:text-indigo-600 border-b-2 border-transparent">Manajemen Proses</button>
                        <button data-tab="memori" class="tab-btn py-2 px-4 font-semibold text-stone-600 hover:text-indigo-600 border-b-2 border-transparent">Manajemen Memori</button>
                        <button data-tab="file" class="tab-btn py-2 px-4 font-semibold text-stone-600 hover:text-indigo-600 border-b-2 border-transparent">Manajemen File & I/O</button>
                    </nav>
                </div>

                <!-- Konten Tab -->
                <div id="tabs-content">
                    <!-- Tab 1: Manajemen Proses -->
                    <div id="tab-proses" class="tab-content">
                        <h3 class="text-2xl font-semibold text-indigo-700 mb-3">A. Manajemen Proses (Koki)</h3>
                        <p class="mb-2"><strong class="text-stone-800">Masalah:</strong> CPU (Koki) jumlahnya terbatas, tapi Aplikasi (Pelanggan) yang antri minta dilayani ada ratusan (Game, WA, Sistem, Jam, Notifikasi, dll).</p>
                        <p class="p-4 bg-indigo-50 rounded-lg"><strong class="text-indigo-700">Solusi OS:</strong> OS bertindak sebagai **Scheduler** (Pengatur Jadwal). OS menentukan aplikasi mana yang boleh memakai CPU sekarang, dan berapa lama.</p>
                    </div>
                    <!-- Tab 2: Manajemen Memori -->
                    <div id="tab-memori" class="tab-content hidden">
                        <h3 class="text-2xl font-semibold text-indigo-700 mb-3">B. Manajemen Memori (Meja Kerja)</h3>
                        <p class="mb-2"><strong class="text-stone-800">Masalah:</strong> RAM (Meja Kerja) kapasitasnya terbatas (misal 4GB atau 8GB).</p>
                        <p class="p-4 bg-indigo-50 rounded-lg"><strong class="text-indigo-700">Solusi OS:</strong> OS mengatur pembagian "kaveling" di RAM. OS juga menjaga agar data satu aplikasi tidak bercampur dengan aplikasi lain. Jangan sampai pesan rahasia di WA bocor ke aplikasi Game!</p>
                    </div>
                    <!-- Tab 3: Manajemen File -->
                    <div id="tab-file" class="tab-content hidden">
                        <h3 class="text-2xl font-semibold text-indigo-700 mb-3">C. Manajemen File & I/O</h3>
                        <p class="mb-2"><strong class="text-stone-800">Masalah:</strong> Bagaimana data disimpan di Harddisk agar rapi? Bagaimana Mouse, Keyboard, dan Printer bisa berkomunikasi?</p>
                        <p class="p-4 bg-indigo-50 rounded-lg"><strong class="text-indigo-700">Solusi OS:</strong> OS mengatur cara data disimpan di Harddisk (Folder/Direktori) dan menjadi penerjemah untuk semua perangkat Input/Output (I/O).</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Bagian 4: Multitasking & Ngelag -->
        <section id="multitasking" class="pt-20 -mt-16">
            <div class="bg-white p-8 rounded-lg shadow-lg">
                <h2 class="text-3xl font-bold text-indigo-600 mb-4">Rahasia Multitasking: Ilusi Kecepatan</h2>
                <p class="text-lg text-stone-700 mb-6">Bagaimana bisa kamu mengetik di Word sambil mendengarkan lagu di Spotify? Apakah CPU-nya membelah diri? **TIDAK.**</p>
                <p class="mb-6">CPU sebenarnya hanya mengerjakan **satu tugas dalam satu waktu**. Rahasianya adalah **Kecepatan Perpindahan (Context Switching)**. OS menggunakan metode "Round Robin" (Giliran) ribuan kali per detik.</p>

                <!-- Simulator Round Robin -->
                <div class="bg-stone-200 p-6 rounded-lg mb-8">
                    <h4 class="text-xl font-semibold text-center mb-4 text-stone-800">Simulator Round Robin</h4>
                    <div class="flex flex-col md:flex-row justify-around items-center space-y-4 md:space-y-0 md:space-x-4">
                        <div id="proc-spotify" class="proc-box p-4 bg-white rounded-lg shadow w-full md:w-1/4 text-center">
                            <span class="text-2xl">üéµ</span>
                            <p class="font-semibold">Spotify</p>
                        </div>
                        <div id="proc-word" class="proc-box p-4 bg-white rounded-lg shadow w-full md:w-1/4 text-center">
                            <span class="text-2xl">üìÑ</span>
                            <p class="font-semibold">Word</p>
                        </div>
                        <div id="proc-download" class="proc-box p-4 bg-white rounded-lg shadow w-full md:w-1/4 text-center">
                            <span class="text-2xl">‚¨áÔ∏è</span>
                            <p class="font-semibold">Download</p>
                        </div>
                    </div>
                    <div class="text-center mt-6">
                        <button id="start-sim" class="bg-indigo-600 text-white px-6 py-2 rounded-lg font-semibold hover:bg-indigo-700 transition-colors">Mulai Simulasi</button>
                        <p id="sim-log" class="mt-4 text-stone-700 h-6 font-semibold"></p>
                    </div>
                </div>

                <!-- Kenapa Ngelag? -->
                <h3 class="text-2xl font-bold text-stone-800 mb-4">Kenapa Komputer/HP Bisa "Ngelag"?</h3>
                <div class="space-y-4">
                    <details class="bg-stone-50 p-4 rounded-lg border">
                        <summary class="font-semibold text-lg cursor-pointer text-indigo-700">1. Terlalu Banyak Proses (Multitasking Berlebihan)</summary>
                        <p class="mt-2 text-stone-600">Jika kamu membuka 50 aplikasi sekaligus, waktu CPU habis hanya untuk "berpindah-pindah" (*context switching*) dan mengatur antrian, bukan untuk bekerja. Akibatnya, semua aplikasi terasa lambat.</p>
                    </details>
                    <details class="bg-stone-50 p-4 rounded-lg border">
                        <summary class="font-semibold text-lg cursor-pointer text-indigo-700">2. RAM Penuh (Memory Leak)</summary>
                        <p class="mt-2 text-stone-600">Jika "Meja Kerja" (RAM) penuh, OS terpaksa meminjam ruang di Harddisk (disebut *Virtual Memory*). Masalahnya, Harddisk jauh lebih lambat daripada RAM. Saat ini terjadi, HP/Laptop akan terasa sangat lambat.</p>
                    </details>
                    <details class="bg-stone-50 p-4 rounded-lg border">
                        <summary class="font-semibold text-lg cursor-pointer text-indigo-700">3. Deadlock (Macet Total)</summary>
                        <p class="mt-2 text-stone-600">Aplikasi A menunggu data dari Aplikasi B, tapi Aplikasi B sedang menunggu data dari Aplikasi A. Keduanya saling tunggu selamanya. OS bingung, layar pun menjadi *freeze* (beku).</p>
                    </details>
                </div>
            </div>
        </section>

        <!-- Bagian 5: Studi Kasus: "Save" Dokumen -->
        <section id="studi-kasus" class="pt-20 -mt-16">
            <div class="bg-white p-8 rounded-lg shadow-lg">
                <h2 class="text-3xl font-bold text-indigo-600 mb-4">Studi Kasus Nyata: Alur "Save" Dokumen</h2>
                <p class="text-stone-600 mb-8">Mari kita lihat apa yang terjadi saat kamu menekan tombol **Save (Simpan)**. Klik "Lanjut" untuk melihat alurnya langkah demi langkah.</p>
                
                <div class="relative pl-10 border-l-2 border-indigo-300">
                    <!-- Step 1 -->
                    <div id="step-1" class="step active mb-6">
                        <div class="step-circle absolute -left-4 top-1 w-8 h-8 rounded-full bg-white border-2 border-indigo-300 flex items-center justify-center font-bold text-indigo-600">1</div>
                        <div class="step-content ml-4">
                            <h4 class="font-semibold text-lg">Input</h4>
                            <p>Jari kamu menekan tombol Mouse. Sinyal listrik dikirim ke Driver Mouse.</p>
                        </div>
                    </div>
                    <!-- Step 2 -->
                    <div id="step-2" class="step mb-6">
                        <div class="step-circle absolute -left-4 top-1 w-8 h-8 rounded-full bg-white border-2 border-indigo-300 flex items-center justify-center font-bold text-indigo-600">2</div>
                        <div class="step-content ml-4">
                            <h4 class="font-semibold text-lg">Interrupt</h4>
                            <p>Driver Mouse melapor ke OS: "Bos! Ada klik di koordinat X:100 Y:200!"</p>
                        </div>
                    </div>
                    <!-- Step 3 -->
                    <div id="step-3" class="step mb-6">
                        <div class="step-circle absolute -left-4 top-1 w-8 h-8 rounded-full bg-white border-2 border-indigo-300 flex items-center justify-center font-bold text-indigo-600">3</div>
                        <div class="step-content ml-4">
                            <h4 class="font-semibold text-lg">Processing</h4>
                            <p>OS mengecek, "Di koordinat itu ada tombol 'Save' milik aplikasi Microsoft Word."</p>
                        </div>
                    </div>
                    <!-- Step 4 -->
                    <div id="step-4" class="step mb-6">
                        <div class="step-circle absolute -left-4 top-1 w-8 h-8 rounded-full bg-white border-2 border-indigo-300 flex items-center justify-center font-bold text-indigo-600">4</div>
                        <div class="step-content ml-4">
                            <h4 class="font-semibold text-lg">Application</h4>
                            <p>OS memberitahu Word: "Hei Word, tombol Save-mu ditekan."</p>
                        </div>
                    </div>
                    <!-- Step 5 -->
                    <div id="step-5" class="step mb-6">
                        <div class="step-circle absolute -left-4 top-1 w-8 h-8 rounded-full bg-white border-2 border-indigo-300 flex items-center justify-center font-bold text-indigo-600">5</div>
                        <div class="step-content ml-4">
                            <h4 class="font-semibold text-lg">System Call</h4>
                            <p>Word merespons: "Oke OS, tolong ambil tulisan di RAM ini, lalu tuliskan ke Harddisk dengan nama file 'Tugas.docx'."</p>
                        </div>
                    </div>
                    <!-- Step 6 -->
                    <div id="step-6" class="step mb-6">
                        <div class="step-circle absolute -left-4 top-1 w-8 h-8 rounded-full bg-white border-2 border-indigo-300 flex items-center justify-center font-bold text-indigo-600">6</div>
                        <div class="step-content ml-4">
                            <h4 class="font-semibold text-lg">Kernel Action</h4>
                            <p>Kernel OS memerintahkan piringan Harddisk berputar ke sektor kosong, lalu menuliskan data magnetik di sana.</p>
                        </div>
                    </div>
                    <!-- Step 7 -->
                    <div id="step-7" class="step mb-6">
                        <div class="step-circle absolute -left-4 top-1 w-8 h-8 rounded-full bg-white border-2 border-indigo-300 flex items-center justify-center font-bold text-indigo-600">7</div>
                        <div class="step-content ml-4">
                            <h4 class="font-semibold text-lg">Output</h4>
                            <p>Setelah selesai, Harddisk lapor ke OS. OS lapor ke Word. Word menampilkan tulisan "Document Saved" di layarmu.</p>
                        </div>
                    </div>
                </div>
                <div class="mt-8 space-x-4">
                    <button id="next-step" class="bg-indigo-600 text-white px-6 py-2 rounded-lg font-semibold hover:bg-indigo-700 transition-colors">Lanjut</button>
                    <button id="reset-step" class="bg-stone-200 text-stone-700 px-6 py-2 rounded-lg font-semibold hover:bg-stone-300 transition-colors">Ulangi</button>
                </div>
            </div>
        </section>

        <!-- Bagian 6: Glosarium -->
        <section id="glosarium" class="pt-20 -mt-16">
            <div class="bg-white p-8 rounded-lg shadow-lg">
                <h2 class="text-3xl font-bold text-indigo-600 mb-6">Glosarium (Kamus Kecil)</h2>
                <dl class="divide-y divide-stone-200">
                    <div class="py-3">
                        <dt class="font-semibold text-indigo-700">CPU (Central Processing Unit)</dt>
                        <dd class="text-stone-600">Otak utama pemroses data.</dd>
                    </div>
                    <div class="py-3">
                        <dt class="font-semibold text-indigo-700">OS (Operating System)</dt>
                        <dd class="text-stone-600">Perangkat lunak sistem yang mengelola hardware dan software (Contoh: Windows, Android, macOS, Linux).</dd>
                    </div>
                    <div class="py-3">
                        <dt class="font-semibold text-indigo-700">Kernel</dt>
                        <dd class="text-stone-600">Jantung/Inti dari OS yang berhubungan langsung dengan hardware.</dd>
                    </div>
                    <div class="py-3">
                        <dt class="font-semibold text-indigo-700">Multitasking</dt>
                        <dd class="text-stone-600">Kemampuan menjalankan banyak tugas seolah-olah bersamaan.</dd>
                    </div>
                    <div class="py-3">
                        <dt class="font-semibold text-indigo-700">Scheduler</dt>
                        <dd class="text-stone-600">Bagian dari OS yang mengatur antrian siapa yang boleh pakai CPU.</dd>
                    </div>
                    <div class="py-3">
                        <dt class="font-semibold text-indigo-700">RAM (Random Access Memory)</dt>
                        <dd class="text-stone-600">Memori sementara/jangka pendek. Data hilang jika listrik mati.</dd>
                    </div>
                </dl>
            </div>
        </section>

    </main>

    <footer class="text-center py-6 text-stone-500 text-sm">
        Modul Interaktif dikonversi dari bahan bacaan Fase E.
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', () => {

            // Logika Menu Mobile
            const mobileMenuBtn = document.getElementById('mobile-menu-btn');
            const mobileMenu = document.getElementById('mobile-menu');
            mobileMenuBtn.addEventListener('click', () => {
                mobileMenu.classList.toggle('hidden');
            });
            // Tutup menu jika link diklik
            mobileMenu.addEventListener('click', (e) => {
                if(e.target.tagName === 'A') {
                    mobileMenu.classList.add('hidden');
                }
            });

            // Logika Diagram Bawang
            const onionLayers = document.querySelectorAll('.onion-layer');
            const onionTitle = document.getElementById('onion-title');
            const onionText = document.getElementById('onion-text');
            const onionData = {
                hardware: {
                    title: "Lapisan 1: Hardware (Perangkat Keras)",
                    text: "Ini adalah benda fisiknya. Prosesor, RAM, Harddisk, Layar. Sifatnya 'kaku' dan hanya mengerti sinyal listrik. Hardware tidak tahu bahasa manusia."
                },
                kernel: {
                    title: "Lapisan 2: Kernel (Inti OS)",
                    text: "Ini adalah penerjemah utama. Kernel berbicara langsung dengan hardware. Dia yang memerintahkan kipas berputar atau layar menyala."
                },
                shell: {
                    title: "Lapisan 3: Shell / Interface",
                    text: "Ini adalah 'kulit' OS yang kita lihat, baik berupa teks (CLI) atau grafis (GUI). Lapisan ini menerima perintah dari kita dan meneruskannya ke Kernel."
                },
                applications: {
                    title: "Lapisan 4: Applications (Aplikasi)",
                    text: "Ini adalah program yang kita gunakan: Browser, Game, Pemutar Musik. Aplikasi harus 'minta tolong' kepada OS untuk menggunakan hardware."
                }
            };

            onionLayers.forEach(layer => {
                layer.addEventListener('click', (e) => {
                    e.stopPropagation(); // Mencegah klik 'bubble' ke lapisan luar
                    const layerName = layer.dataset.layer;
                    
                    // Update styling
                    onionLayers.forEach(l => l.classList.remove('active', 'border-indigo-600'));
                    layer.classList.add('active', 'border-indigo-600');

                    // Update konten
                    if (onionData[layerName]) {
                        onionTitle.textContent = onionData[layerName].title;
                        onionText.textContent = onionData[layerName].text;
                    }
                });
            });

            // Logika Tabs
            const tabButtons = document.querySelectorAll('.tab-btn');
            const tabContents = document.querySelectorAll('.tab-content');
            
            tabButtons.forEach(button => {
                button.addEventListener('click', () => {
                    const tabName = button.dataset.tab;

                    // Update styling tombol
                    tabButtons.forEach(btn => btn.classList.remove('active'));
                    button.classList.add('active');

                    // Tampilkan konten
                    tabContents.forEach(content => {
                        if (content.id === `tab-${tabName}`) {
                            content.classList.remove('hidden');
                        } else {
                            content.classList.add('hidden');
                        }
                    });
                });
            });

            // Logika Simulator Round Robin
            const startSimBtn = document.getElementById('start-sim');
            const simLog = document.getElementById('sim-log');
            const procs = ['spotify', 'word', 'download'];
            const procBoxes = {
                spotify: document.getElementById('proc-spotify'),
                word: document.getElementById('proc-word'),
                download: document.getElementById('proc-download'),
            };
            let simInterval;
            let currentProc = 0;

            startSimBtn.addEventListener('click', () => {
                clearInterval(simInterval);
                startSimBtn.textContent = "Mensimulasikan...";
                
                simInterval = setInterval(() => {
                    // Hapus highlight dari semua
                    Object.values(procBoxes).forEach(box => box.classList.remove('active', 'border-indigo-600', 'border-4'));

                    // Tentukan proses saat ini
                    const procName = procs[currentProc];
                    const procBox = procBoxes[procName];

                    // Tambah highlight
                    procBox.classList.add('active', 'border-indigo-600', 'border-4');
                    simLog.textContent = `CPU sedang memproses ${procName}...`;

                    // Pindah ke proses berikutnya
                    currentProc = (currentProc + 1) % procs.length;
                }, 800); // Ganti setiap 0.8 detik
            });

            // Logika Stepper Studi Kasus
            const nextStepBtn = document.getElementById('next-step');
            const resetStepBtn = document.getElementById('reset-step');
            const steps = document.querySelectorAll('.step');
            let currentStep = 1;

            function updateSteps() {
                steps.forEach((step, index) => {
                    const stepNumber = index + 1;
                    if (stepNumber === currentStep) {
                        step.classList.add('active');
                    } else {
                        step.classList.remove('active');
                    }
                });
                nextStepBtn.textContent = currentStep === 7 ? "Selesai" : "Lanjut";
            }

            nextStepBtn.addEventListener('click', () => {
                if (currentStep < 7) {
                    currentStep++;
                } else {
                    currentStep = 7;
                }
                updateSteps();
            });

            resetStepBtn.addEventListener('click', () => {
                currentStep = 1;
                updateSteps();
            });

            // Inisialisasi state awal
            updateSteps();

        });
    </script>
</body>
</html>
